{
  "cluster": "${CLUSTER}",
  "servicePort": 1337,
  "serviceProtocol": "HTTP",
  "desiredCount": ${DESIRED_COUNT},
  "containers": [
    {
      "containerName": "${SERVICE}-worker",
      "containerImage": "${CONTAINER_IMAGE}",
      "containerTag": "${CIRCLE_SHA1}",
      "containerPort": 1337,
      "memoryReservation": 1024,
      "essential": true
    },
    {
      "containerName": "${SERVICE}-sqsd",
      "containerImage": "sqsd",
      "containerTag": "latest",
      "memoryReservation": 128,
      "essential": true
    }
  ],
  "healthCheck": {
    "healthyThreshold": 3,
    "unhealthyThreshold": 5,
    "path": "/status",
    "interval": 60,
    "matcher": "200"
  },
  "ruleConditions": [
    {
      "hostname": "rdoc-worker",
      "listeners": [
        "https"
      ]
    }
  ]
}